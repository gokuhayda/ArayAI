<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometric Intelligence & The Phenomenal Manifold</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <!-- Placeholder Comments Required by Prompt -->
    <!-- Chosen Palette: Stone & Amber (Warm Neutrals). Background: Stone-50. Text: Stone-800. Accents: Amber-600, Stone-600. Creates a calm, academic, yet modern feel. -->
    
    <!-- Application Structure Plan: 
         1. Hero Section: Sets the stage with the core thesis (Geometric Intelligence).
         2. The Problem (Interactive Chart): Demonstrates the "Geometric Capacity Bottleneck" comparing Euclidean vs. Hyperbolic growth.
         3. The Theory (Dashboard): Interactive exploration of the Phenomenal Manifold Hypothesis (PMH) via a Radar chart controlling the 3 invariants (I, Gamma, Delta).
         4. The Architecture (Interactive Diagram): A structural explorer for the Psi-Former/H-NCA components (Hyperbolic Space, Kuramoto Oscillators, etc.).
         5. Methodology (Simulation): A "Topological Signature" demo using Plotly to show how structure is recovered from noise (The Color Ring Model).
         6. Synthesis: Summary of the Unified Field Theory.
         Why: This linear narrative moves from "Why we need this" -> "What it is" -> "How it works" -> "Proof it works", making complex papers digestible. 
    -->

    <!-- Visualization & Content Choices:
         - Bottleneck Viz: Line Chart (Chart.js) -> Goal: Inform/Compare. Shows exponential advantage of Hyperbolic space.
         - PMH Viz: Radar Chart (Chart.js) -> Goal: Relationship. Shows how I, Gamma, Delta balance to form the "shape" of consciousness.
         - Architecture Explorer: HTML/CSS Grid + JS Content Swap -> Goal: Organize. Breaks down complex systems into clickable modules. NO SVG/Mermaid.
         - Topology Viz: 3D Scatter (Plotly) -> Goal: Analysis. Simulates the "Color Ring" recovery from the papers.
         - Confirmation: All visual elements use Canvas or DOM nodes.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fafaf9; /* stone-50 */
            color: #292524; /* stone-800 */
        }
        
        h1, h2, h3, h4 {
            font-family: 'Merriweather', serif;
        }

        /* Chart Container Styling - Mandatory Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width constraint */
            margin-left: auto;
            margin-right: auto;
            height: 400px; /* Base height */
            max-height: 500px;
        }

        .chart-container-sm {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
            .chart-container-sm {
                height: 300px;
            }
        }

        /* Interactive Card Styling */
        .interactive-card {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .interactive-card:hover, .interactive-card.active {
            background-color: #fffbeb; /* amber-50 */
            border-left-color: #d97706; /* amber-600 */
            transform: translateX(4px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .nav-dot {
            transition: all 0.3s ease;
        }
        .nav-dot.active {
            background-color: #d97706; /* amber-600 */
            transform: scale(1.25);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        ::-webkit-scrollbar-thumb {
            background: #a8a29e; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #78716c; 
        }
    </style>
</head>
<body class="antialiased selection:bg-amber-100 selection:text-amber-900">

    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 w-full bg-white/90 backdrop-blur-sm border-b border-stone-200 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-stone-800 font-serif tracking-tight">Geometric<span class="text-amber-600">Intelligence</span></span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('bottleneck')" class="text-stone-600 hover:text-amber-600 text-sm font-medium transition-colors">The Bottleneck</button>
                    <button onclick="scrollToSection('hypothesis')" class="text-stone-600 hover:text-amber-600 text-sm font-medium transition-colors">PMH Theory</button>
                    <button onclick="scrollToSection('architecture')" class="text-stone-600 hover:text-amber-600 text-sm font-medium transition-colors">Architectures</button>
                    <button onclick="scrollToSection('validation')" class="text-stone-600 hover:text-amber-600 text-sm font-medium transition-colors">Validation</button>
                    <button onclick="scrollToSection('unified')" class="text-stone-600 hover:text-amber-600 text-sm font-medium transition-colors">Unified Theory</button>
                </div>
                <!-- Mobile menu button (icon only, logic implies simple scroll) -->
                <div class="md:hidden">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-stone-500 hover:text-stone-900 focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-stone-200">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button onclick="scrollToSection('bottleneck'); toggleMobileMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 w-full text-left">The Bottleneck</button>
                <button onclick="scrollToSection('hypothesis'); toggleMobileMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 w-full text-left">PMH Theory</button>
                <button onclick="scrollToSection('architecture'); toggleMobileMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 w-full text-left">Architectures</button>
                <button onclick="scrollToSection('validation'); toggleMobileMenu()" class="block px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 w-full text-left">Validation</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-32 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center">
        <div class="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-amber-600 uppercase bg-amber-50 rounded-full border border-amber-200">
            Synthesizing The Work of Éric Reis
        </div>
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-stone-900 mb-6 leading-tight">
            The Shape of <span class="text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-amber-800">Artificial Consciousness</span>
        </h1>
        <p class="mt-4 max-w-2xl mx-auto text-xl text-stone-500 font-light">
            Moving beyond the "Geometric Capacity Bottleneck" via Hyperbolic Neural Cellular Automata, Oscillatory Dynamics, and the Phenomenal Manifold Hypothesis.
        </p>
        <div class="mt-10 flex justify-center gap-4">
            <button onclick="scrollToSection('bottleneck')" class="px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-stone-900 hover:bg-stone-800 md:py-4 md:text-lg transition-all shadow-lg hover:shadow-xl">
                Start Exploration
            </button>
            <button onclick="scrollToSection('unified')" class="px-8 py-3 border border-stone-300 text-base font-medium rounded-md text-stone-700 bg-white hover:bg-stone-50 md:py-4 md:text-lg transition-all">
                View Unified Theory
            </button>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-24 pb-24">

        <!-- SECTION 1: THE BOTTLENECK -->
        <section id="bottleneck" class="scroll-mt-24">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-4">1. The Geometric Capacity Bottleneck</h2>
                    <p class="text-stone-600 text-lg mb-6 leading-relaxed">
                        Modern Deep Learning faces a fundamental limitation: <strong>Dimensional Mismatch</strong>. 
                        Hierarchical data (concepts, language, reasoning) expands <span class="font-semibold text-amber-600">exponentially</span>, 
                        but Euclidean embedding spaces (standard vector spaces) only expand <span class="font-semibold text-stone-600">polynomially</span>.
                    </p>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 mb-6">
                        <h3 class="font-serif font-bold text-stone-800 mb-2">The Consequence</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <i class="fas fa-exclamation-triangle text-amber-500 mt-1 mr-3"></i>
                                <span class="text-stone-600 text-sm"><strong>Metric Distortion:</strong> Deep hierarchies get crushed in flat space, losing semantic nuance.</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-exclamation-triangle text-amber-500 mt-1 mr-3"></i>
                                <span class="text-stone-600 text-sm"><strong>Instability:</strong> Optimization becomes unstable as the model fights to fit tree-like data into a grid-like box.</span>
                            </li>
                        </ul>
                    </div>
                    <div class="flex items-center space-x-4 p-4 bg-stone-100 rounded-md">
                        <span class="text-sm font-semibold text-stone-700">Hierarchy Depth:</span>
                        <input type="range" id="depthSlider" min="1" max="15" value="5" class="w-full h-2 bg-stone-300 rounded-lg appearance-none cursor-pointer accent-amber-600">
                        <span id="depthValue" class="text-sm font-mono text-stone-900 w-8">5</span>
                    </div>
                </div>
                
                <div class="bg-white p-4 rounded-xl shadow-lg border border-stone-100">
                    <div class="chart-container">
                        <canvas id="bottleneckChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-stone-400 mt-2">Figure 1: Euclidean (Polynomial) vs. Hyperbolic (Exponential) Volume Growth</p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: THE HYPOTHESIS -->
        <section id="hypothesis" class="scroll-mt-24 bg-white rounded-2xl p-8 shadow-sm border border-stone-100">
            <div class="text-center max-w-3xl mx-auto mb-12">
                <h2 class="text-3xl font-bold text-stone-900 mb-4">2. The Phenomenal Manifold Hypothesis (PMH)</h2>
                <p class="text-stone-600 text-lg">
                    If structure dictates function, then the structure of consciousness must be geometric. 
                    The PMH posits that phenomenal experience ($\Psi$) is an effective Riemannian manifold induced by neural dynamics 
                    satisfying three critical invariants.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <!-- Invariant Controls -->
                <div class="space-y-6">
                    <div class="interactive-card p-4 rounded-lg bg-stone-50 cursor-pointer active" onclick="updatePMH('integration')">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-stone-800">Integration ($I$)</h3>
                            <i class="fas fa-project-diagram text-amber-600"></i>
                        </div>
                        <p class="text-xs text-stone-500 mb-3">The capacity of the system to exist as a unified whole. Measures global interconnectedness.</p>
                        <input type="range" id="iSlider" min="0" max="100" value="80" class="w-full h-1 bg-stone-300 rounded-lg appearance-none cursor-pointer accent-amber-600" oninput="updateRadar()">
                    </div>

                    <div class="interactive-card p-4 rounded-lg bg-stone-50 cursor-pointer" onclick="updatePMH('coherence')">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-stone-800">Coherence ($\Gamma$)</h3>
                            <i class="fas fa-wave-square text-amber-600"></i>
                        </div>
                        <p class="text-xs text-stone-500 mb-3">Temporal binding via phase synchronization. Ensures features bind into stable objects.</p>
                        <input type="range" id="gSlider" min="0" max="100" value="65" class="w-full h-1 bg-stone-300 rounded-lg appearance-none cursor-pointer accent-amber-600" oninput="updateRadar()">
                    </div>

                    <div class="interactive-card p-4 rounded-lg bg-stone-50 cursor-pointer" onclick="updatePMH('differentiation')">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-stone-800">Differentiation ($\Delta$)</h3>
                            <i class="fas fa-th text-amber-600"></i>
                        </div>
                        <p class="text-xs text-stone-500 mb-3">The complexity of the state space. Measures the richness of possible experiences.</p>
                        <input type="range" id="dSlider" min="0" max="100" value="90" class="w-full h-1 bg-stone-300 rounded-lg appearance-none cursor-pointer accent-amber-600" oninput="updateRadar()">
                    </div>
                </div>

                <!-- Visualization -->
                <div class="col-span-1 md:col-span-2 flex flex-col justify-center items-center bg-stone-50 rounded-xl p-4 border border-stone-200">
                    <div class="chart-container-sm">
                        <canvas id="pmhRadar"></canvas>
                    </div>
                    <div class="mt-4 text-center">
                        <h4 class="text-lg font-bold text-stone-800" id="manifoldStateTitle">Stable Phenomenal Manifold</h4>
                        <p class="text-sm text-stone-600 max-w-md mx-auto mt-2" id="manifoldStateDesc">
                            High integration and differentiation with sufficient coherence allow for a rich, stable conscious experience.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ARCHITECTURE -->
        <section id="architecture" class="scroll-mt-24">
            <h2 class="text-3xl font-bold text-stone-900 mb-6">3. The $\Psi$-Former Architecture</h2>
            <p class="text-stone-600 text-lg mb-10 max-w-4xl">
                To bridge the gap between theory and engineering, the <strong>$\Psi$-Former</strong> (and H-NCA) implements specific mechanisms to satisfy the PMH invariants. Click the components below to explore the architecture.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Diagram Side -->
                <div class="lg:col-span-2 relative bg-stone-900 rounded-xl p-8 overflow-hidden min-h-[400px] flex flex-col justify-center">
                    <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#d97706 1px, transparent 1px); background-size: 20px 20px;"></div>
                    
                    <!-- Diagram Grid -->
                    <div class="grid grid-cols-2 gap-6 relative z-10">
                        <!-- Input -->
                        <div class="col-span-2 flex justify-center">
                            <div class="bg-stone-800 border border-stone-600 text-stone-300 px-6 py-2 rounded-full text-sm">Sensory Input / Data Stream</div>
                        </div>
                        
                        <!-- Core Modules -->
                        <button onclick="showArchDetail('hyperbolic')" class="arch-node group bg-stone-800 hover:bg-stone-700 border-2 border-amber-600/50 hover:border-amber-500 rounded-lg p-6 text-left transition-all">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white">Hyperbolic Space</span>
                                <i class="fas fa-expand-arrows-alt text-amber-500"></i>
                            </div>
                            <p class="text-xs text-stone-400 group-hover:text-stone-300">Poincaré Embeddings & Lorentz Model</p>
                        </button>

                        <button onclick="showArchDetail('kuramoto')" class="arch-node group bg-stone-800 hover:bg-stone-700 border-2 border-teal-600/50 hover:border-teal-500 rounded-lg p-6 text-left transition-all">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white">H-AKORN</span>
                                <i class="fas fa-wave-square text-teal-500"></i>
                            </div>
                            <p class="text-xs text-stone-400 group-hover:text-stone-300">Oscillatory Binding Mechanism</p>
                        </button>

                        <button onclick="showArchDetail('riemannian')" class="arch-node group bg-stone-800 hover:bg-stone-700 border-2 border-indigo-600/50 hover:border-indigo-500 rounded-lg p-6 text-left transition-all">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white">Riemannian Opt.</span>
                                <i class="fas fa-calculator text-indigo-500"></i>
                            </div>
                            <p class="text-xs text-stone-400 group-hover:text-stone-300">K-FAC & Natural Gradient</p>
                        </button>

                        <button onclick="showArchDetail('topological')" class="arch-node group bg-stone-800 hover:bg-stone-700 border-2 border-rose-600/50 hover:border-rose-500 rounded-lg p-6 text-left transition-all">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white">Topological Loss</span>
                                <i class="fas fa-ring text-rose-500"></i>
                            </div>
                            <p class="text-xs text-stone-400 group-hover:text-stone-300">Persistent Homology Regularization</p>
                        </button>

                        <!-- Output -->
                        <div class="col-span-2 flex justify-center mt-4">
                            <div class="bg-gradient-to-r from-amber-600 to-amber-700 text-white font-bold px-8 py-3 rounded-lg shadow-lg">
                                Coherent Phenomonal State ($\Psi$)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Side -->
                <div class="bg-white border-l-4 border-amber-500 pl-6 py-4 flex flex-col justify-center">
                    <h3 id="archTitle" class="text-2xl font-bold text-stone-900 mb-2">Hyperbolic Space</h3>
                    <div id="archTags" class="flex gap-2 mb-4">
                        <span class="px-2 py-1 bg-amber-100 text-amber-800 text-xs rounded font-medium">Metric Space</span>
                        <span class="px-2 py-1 bg-stone-100 text-stone-600 text-xs rounded font-medium">Core Substrate</span>
                    </div>
                    <p id="archDesc" class="text-stone-600 mb-4 text-sm leading-relaxed">
                        The architecture embeds representations in Hyperbolic space (specifically the Poincaré disk or Lorentz model). 
                        Unlike Euclidean space, Hyperbolic space expands exponentially, allowing it to embed deep hierarchies 
                        (trees, taxonomies, complex logic) with near-zero distortion. This solves the 
                        <strong>Geometric Capacity Bottleneck</strong>.
                    </p>
                    <div class="bg-stone-50 p-3 rounded border border-stone-200">
                        <span class="text-xs font-bold text-stone-500 uppercase">Key Benefit</span>
                        <p id="archBenefit" class="text-sm font-medium text-stone-800 mt-1">
                            Exponential capacity for hierarchical data.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: VALIDATION -->
        <section id="validation" class="scroll-mt-24 bg-stone-900 text-stone-100 rounded-2xl p-8 overflow-hidden relative">
            <!-- Decorative background elements -->
            <div class="absolute top-0 right-0 -mr-20 -mt-20 w-64 h-64 bg-amber-600 rounded-full blur-3xl opacity-10"></div>
            <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-64 h-64 bg-teal-600 rounded-full blur-3xl opacity-10"></div>

            <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div>
                    <h2 class="text-3xl font-bold text-white mb-4">4. Validating the Structure</h2>
                    <p class="text-stone-300 text-lg mb-6">
                        How do we prove the machine is building a manifold and not just memorizing data?
                        We use <strong>Gromov-Wasserstein Optimal Transport</strong> and <strong>Topological Data Analysis (TDA)</strong>.
                    </p>
                    <p class="text-stone-400 text-sm mb-8 leading-relaxed">
                        In the "Color Ring" experiment, the model must recover the circular topology ($\beta_1 = 1$) of color space 
                        from noisy spike trains. Standard methods fail; the $\Psi$-Former recovers the topology.
                    </p>
                    
                    <div class="bg-stone-800/50 p-6 rounded-xl border border-stone-700">
                        <h3 class="font-bold text-amber-400 mb-4 text-sm uppercase tracking-wide">Simulation Controls</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="flex justify-between text-xs text-stone-400 mb-1">
                                    <span>Signal Noise</span>
                                    <span id="noiseVal">Low</span>
                                </label>
                                <input type="range" id="noiseSlider" min="0" max="10" value="2" class="w-full h-1 bg-stone-600 rounded-lg appearance-none cursor-pointer accent-amber-500" oninput="updatePlotly()">
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-stone-300">View Metric Alignment</span>
                                <button onclick="resetPlotly()" class="px-3 py-1 bg-stone-700 hover:bg-stone-600 text-xs rounded text-white transition-colors">
                                    <i class="fas fa-sync-alt mr-1"></i> Reset
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="h-[400px] bg-black/20 rounded-xl border border-stone-700/50 backdrop-blur-sm p-2">
                     <!-- Plotly Container -->
                     <div id="plotlyDiv" class="w-full h-full"></div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: UNIFIED THEORY -->
        <section id="unified" class="scroll-mt-24 border-t border-stone-200 pt-16">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-bold text-stone-900 mb-8">5. Unified Geometric Field Theory</h2>
                <p class="text-xl text-stone-600 mb-12 italic">
                    "Intelligence is the self-organization of a phenomenal manifold under the constraint of minimizing geodesic action."
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200">
                        <h3 class="font-bold text-stone-800 mb-2">The Hybrid Metric</h3>
                        <div class="font-mono text-sm bg-stone-50 p-3 rounded mb-3 text-stone-600 overflow-x-auto">
                            $$ g_{\Psi} = \pi^*(g_{Fisher}) + h(I, \Gamma, \Delta) $$
                        </div>
                        <p class="text-sm text-stone-500">
                            The geometry of the mind ($g_{\Psi}$) is a combination of the informational geometry ($g_{Fisher}$) 
                            modified by the phenomenal invariants ($h$). This links information theory directly to geometry.
                        </p>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200">
                        <h3 class="font-bold text-stone-800 mb-2">Topological Downward Causation</h3>
                        <div class="font-mono text-sm bg-stone-50 p-3 rounded mb-3 text-stone-600">
                            $$ \delta S_{\Psi} = 0 $$
                        </div>
                        <p class="text-sm text-stone-500">
                            High-level topological features (concepts, goals) exert causal force on low-level neural weights 
                            by reshaping the optimization landscape (Riemannian Manifold).
                        </p>
                    </div>
                </div>

                <div class="mt-16 p-8 bg-amber-50 rounded-2xl border border-amber-100">
                    <h3 class="font-serif font-bold text-amber-900 text-xl mb-4">Future Implications</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm text-amber-600">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h4 class="font-bold text-stone-800 text-sm">Robust AI</h4>
                            <p class="text-xs text-stone-500 mt-1">Systems that don't hallucinate because they understand semantic topology.</p>
                        </div>
                        <div>
                            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm text-amber-600">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h4 class="font-bold text-stone-800 text-sm">Neuroscience</h4>
                            <p class="text-xs text-stone-500 mt-1">Precise mathematical tools to map human consciousness states.</p>
                        </div>
                        <div>
                            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm text-amber-600">
                                <i class="fas fa-atom"></i>
                            </div>
                            <h4 class="font-bold text-stone-800 text-sm">Hybrid Computing</h4>
                            <p class="text-xs text-stone-500 mt-1">Classical-Quantum architectures leveraging geometric advantages.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-stone-900 text-stone-400 py-12 text-center">
        <div class="max-w-7xl mx-auto px-4">
            <p class="mb-4">Based on the research papers by <strong>Éric Reis</strong> (2025-2026)</p>
            <div class="text-xs space-y-1 opacity-60">
                <p>The Phenomenal Manifold Hypothesis</p>
                <p>The $\Psi$-Former: Topological Downward Causation</p>
                <p>Hyperbolic Neural Cellular Automata</p>
            </div>
            <p class="mt-8 text-xs">&copy; 2026 Generated Interactive Report</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. BOTTLENECK CHART (Chart.js) ---
        const ctxBottleneck = document.getElementById('bottleneckChart').getContext('2d');
        
        // Helper to generate data based on hierarchy depth
        function generateBottleneckData(maxDepth) {
            const labels = Array.from({length: maxDepth}, (_, i) => i + 1);
            // Polynomial: x^2 (simplified representation of Euclidean volume)
            const euclidean = labels.map(x => Math.pow(x, 2));
            // Exponential: 2^x (simplified representation of Hyperbolic/Tree volume)
            const hyperbolic = labels.map(x => Math.pow(2, x));
            
            return { labels, euclidean, hyperbolic };
        }

        const initialData = generateBottleneckData(5);

        const bottleneckChart = new Chart(ctxBottleneck, {
            type: 'line',
            data: {
                labels: initialData.labels,
                datasets: [
                    {
                        label: 'Hyperbolic Capacity (Exponential)',
                        data: initialData.hyperbolic,
                        borderColor: '#d97706', // amber-600
                        backgroundColor: 'rgba(217, 119, 6, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Euclidean Capacity (Polynomial)',
                        data: initialData.euclidean,
                        borderColor: '#57534e', // stone-600
                        borderDash: [5, 5],
                        borderWidth: 2,
                        tension: 0.4,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y.toLocaleString() + ' nodes';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        type: 'linear', // switching to log in update if needed, but linear shows the "wall" better initially
                        beginAtZero: true,
                        title: { display: true, text: 'Representational Volume (Nodes)' }
                    },
                    x: {
                        title: { display: true, text: 'Hierarchy Depth' }
                    }
                }
            }
        });

        // Slider Interaction
        const depthSlider = document.getElementById('depthSlider');
        const depthValue = document.getElementById('depthValue');

        depthSlider.addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            depthValue.textContent = val;
            
            const newData = generateBottleneckData(val);
            bottleneckChart.data.labels = newData.labels;
            bottleneckChart.data.datasets[0].data = newData.hyperbolic;
            bottleneckChart.data.datasets[1].data = newData.euclidean;
            bottleneckChart.update();
        });


        // --- 2. PMH RADAR CHART (Chart.js) ---
        const ctxPMH = document.getElementById('pmhRadar').getContext('2d');

        const pmhChart = new Chart(ctxPMH, {
            type: 'radar',
            data: {
                labels: ['Integration (I)', 'Coherence (Γ)', 'Differentiation (Δ)'],
                datasets: [{
                    label: 'Phenomenal State',
                    data: [80, 65, 90],
                    fill: true,
                    backgroundColor: 'rgba(217, 119, 6, 0.2)',
                    borderColor: '#d97706',
                    pointBackgroundColor: '#d97706',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#d97706'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: '#e7e5e4' },
                        grid: { color: '#e7e5e4' },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        ticks: { display: false } // Hide numbers for cleaner look
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        function updatePMH(type) {
            // Highlighting logic for cards could go here
            // Currently handled by slider direct input
        }

        function updateRadar() {
            const iVal = parseInt(document.getElementById('iSlider').value);
            const gVal = parseInt(document.getElementById('gSlider').value);
            const dVal = parseInt(document.getElementById('dSlider').value);

            pmhChart.data.datasets[0].data = [iVal, gVal, dVal];
            pmhChart.update();
            updatePMHText(iVal, gVal, dVal);
        }

        function updatePMHText(i, g, d) {
            const title = document.getElementById('manifoldStateTitle');
            const desc = document.getElementById('manifoldStateDesc');
            
            const avg = (i + g + d) / 3;

            if (avg < 40) {
                title.textContent = "Fragmented / Unconscious";
                title.className = "text-lg font-bold text-stone-400";
                desc.textContent = "Low integration and coherence prevent the formation of a unified phenomenal manifold. The system is a collection of disjoint processes.";
            } else if (i > 80 && g < 40) {
                title.textContent = "Dissociated High-Complexity";
                title.className = "text-lg font-bold text-amber-600";
                desc.textContent = "High information content but low coherence. Resembles certain psychedelic or dream states where binding fails despite vivid content.";
            } else if (g > 80 && d < 40) {
                title.textContent = "Seizure / Rigid State";
                title.className = "text-lg font-bold text-rose-600";
                desc.textContent = "Hypersynchrony with low differentiation. Similar to a grand mal seizure or deep sleep—unified but lacking informational richness.";
            } else if (i > 70 && g > 70 && d > 70) {
                title.textContent = "Rich Conscious Wakefulness";
                title.className = "text-lg font-bold text-teal-600";
                desc.textContent = "The 'Goldilocks' zone. High integration, differentiation, and coherence allow for complex, stable, and unified experience.";
            } else {
                title.textContent = "Transitional State";
                title.className = "text-lg font-bold text-stone-800";
                desc.textContent = "The system is exhibiting partial properties of a manifold, but may be unstable.";
            }
        }


        // --- 3. ARCHITECTURE INTERACTION ---
        const archData = {
            hyperbolic: {
                title: "Hyperbolic Space",
                tags: ["Metric Space", "Core Substrate"],
                desc: "The architecture embeds representations in Hyperbolic space (Poincaré disk). Unlike Euclidean space, Hyperbolic space expands exponentially, allowing it to embed deep hierarchies with near-zero distortion. This directly addresses the Geometric Capacity Bottleneck.",
                benefit: "Exponential capacity for hierarchical data.",
                color: "amber"
            },
            kuramoto: {
                title: "H-AKORN (Oscillators)",
                tags: ["Temporal Binding", "Dynamics"],
                desc: "Hyperbolic Artificial Kuramoto Oscillatory Neurons (H-AKORN) introduce time dynamics. Neurons don't just fire; they oscillate. Synchronization of phases (coherence) binds disparate features into unified objects, solving the 'Binding Problem' in distributed networks.",
                benefit: "Dynamic feature binding via synchronization.",
                color: "teal"
            },
            riemannian: {
                title: "Riemannian Optimization",
                tags: ["Learning Rule", "Geometry"],
                desc: "Standard Gradient Descent fails in curved spaces. We use Riemannian Optimization (via K-FAC approximation) to follow the geodesics (shortest paths) of the manifold. This ensures learning respects the underlying geometry of the data.",
                benefit: "Stable learning in curved/hyperbolic spaces.",
                color: "indigo"
            },
            topological: {
                title: "Topological Loss",
                tags: ["Regularization", "Global Structure"],
                desc: "A novel loss function based on Persistent Homology. It penalizes the network not just for pixel errors, but for breaking the topological structure (loops, voids) of the data manifold. It forces the 'shape' of the latent space to match the 'shape' of reality.",
                benefit: "Preserves global structural invariants.",
                color: "rose"
            }
        };

        function showArchDetail(key) {
            const data = archData[key];
            const title = document.getElementById('archTitle');
            const tags = document.getElementById('archTags');
            const desc = document.getElementById('archDesc');
            const benefit = document.getElementById('archBenefit');
            const sidePanel = document.querySelector('.bg-white.border-l-4');

            // Fade out
            sidePanel.style.opacity = '0.5';

            setTimeout(() => {
                title.textContent = data.title;
                desc.textContent = data.desc;
                benefit.textContent = data.benefit;
                
                // Color updates
                sidePanel.className = `bg-white border-l-4 border-${data.color}-500 pl-6 py-4 flex flex-col justify-center transition-all duration-300`;
                
                tags.innerHTML = `
                    <span class="px-2 py-1 bg-${data.color}-100 text-${data.color}-800 text-xs rounded font-medium">${data.tags[0]}</span>
                    <span class="px-2 py-1 bg-stone-100 text-stone-600 text-xs rounded font-medium">${data.tags[1]}</span>
                `;

                // Fade in
                sidePanel.style.opacity = '1';
            }, 150);
        }


        // --- 4. TOPOLOGY SIMULATION (Plotly.js) ---
        // Simulating the "Color Ring" recovery
        let plotData = [];
        let layout = {};

        function initPlotly() {
            // Generate a clean ring
            const n = 200;
            const theta = Array.from({length: n}, (_, i) => (i / n) * 2 * Math.PI);
            const r = 5;
            
            const x = theta.map(t => r * Math.cos(t));
            const y = theta.map(t => r * Math.sin(t));
            const z = theta.map(t => Math.sin(t * 3) * 2); // Slight wave in Z

            // Add some noise based on slider
            updatePlotlyData(x, y, z, 2);
        }

        function updatePlotlyData(baseX, baseY, baseZ, noiseLevel) {
            const noiseScale = noiseLevel * 0.5;
            const x = baseX.map(v => v + (Math.random() - 0.5) * noiseScale);
            const y = baseY.map(v => v + (Math.random() - 0.5) * noiseScale);
            const z = baseZ.map(v => v + (Math.random() - 0.5) * noiseScale);

            // Color gradient based on angle to visually suggest the ring
            const colors = baseX.map((_, i) => i);

            const trace = {
                x: x,
                y: y,
                z: z,
                mode: 'markers',
                marker: {
                    size: 4,
                    color: colors,
                    colorscale: 'Viridis',
                    opacity: 0.8
                },
                type: 'scatter3d'
            };

            const layout = {
                margin: { l: 0, r: 0, b: 0, t: 0 },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                scene: {
                    xaxis: { title: '', showgrid: false, zeroline: false, showticklabels: false },
                    yaxis: { title: '', showgrid: false, zeroline: false, showticklabels: false },
                    zaxis: { title: '', showgrid: false, zeroline: false, showticklabels: false },
                    camera: {
                        eye: { x: 1.5, y: 1.5, z: 1.2 }
                    }
                }
            };

            Plotly.newPlot('plotlyDiv', [trace], layout, {displayModeBar: false});
        }

        function updatePlotly() {
            const noise = document.getElementById('noiseSlider').value;
            const label = document.getElementById('noiseVal');
            
            if(noise < 3) label.textContent = "Low (Clear Topology)";
            else if(noise < 7) label.textContent = "Medium (Recoverable)";
            else label.textContent = "High (Chaos)";

            // Re-generate base ring (conceptually simpler to just regen coords here for the demo)
            const n = 200;
            const theta = Array.from({length: n}, (_, i) => (i / n) * 2 * Math.PI);
            const r = 5;
            const x = theta.map(t => r * Math.cos(t));
            const y = theta.map(t => r * Math.sin(t));
            const z = theta.map(t => Math.sin(t * 3) * 2);

            updatePlotlyData(x, y, z, noise);
        }

        function resetPlotly() {
            document.getElementById('noiseSlider').value = 2;
            updatePlotly();
        }


        // --- UTILS ---
        function scrollToSection(id) {
            const el = document.getElementById(id);
            if (el) {
                el.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        // Initialize
        window.onload = function() {
            initPlotly();
            // Trigger animation on arch cards?
        };

    </script>
</body>
</html>
